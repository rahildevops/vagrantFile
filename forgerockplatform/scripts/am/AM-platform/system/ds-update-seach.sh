##### Making call to update the search attribute 
  sudo echo "starting to Making call to update the search attribute"
    # Make the HTTP PUT request
    curl -X PUT "http://am.example.com:8081/am/json/realms/root/realms/alpha/realm-config/services/id-repositories/LDAPv3ForOpenDS/OpenDJ" \
      -H "Accept: application/json, text/javascript, */*; q=0.01" \
      -H "Accept-API-Version: protocol=2.0,resource=1.0" \
      -H "Accept-Encoding: gzip, deflate" \
      -H "Accept-Language: en-US" \
      -H "Cache-Control: no-cache" \
      -H "iPlanetDirectoryPro: $ADMIN_TOKEN" \
      -H "Connection: keep-alive" \
      -H "Content-Type: application/json" \
      -H "Host: am.example.com:8081" \
      -H "Origin: http://am.example.com:8081" \
      -H "Referer: http://am.example.com:8081/am/ui-admin/" \
      -H "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36 Edg/135.0.0.0" \
      -H "X-Requested-With: XMLHttpRequest" \
      -d '{"_id":"OpenDJ","ldapsettings":{"openam-idrepo-ldapv3-mtls-enabled":false,"openam-idrepo-ldapv3-heartbeat-timeunit":"SECONDS","sun-idrepo-ldapv3-config-connection_pool_min_size":1,"sun-idrepo-ldapv3-config-search-scope":"SCOPE_ONE","openam-idrepo-ldapv3-proxied-auth-enabled":false,"openam-idrepo-ldapv3-contains-iot-identities-enriched-as-oauth2client":false,"sun-idrepo-ldapv3-config-max-result":1000,"sun-idrepo-ldapv3-config-organization_name":"ou=identities","openam-idrepo-ldapv3-proxied-auth-denied-fallback":false,"openam-idrepo-ldapv3-affinity-enabled":false,"sun-idrepo-ldapv3-config-authid":"uid=am-identity-bind-account,ou=admins,ou=identities","openam-idrepo-ldapv3-heartbeat-interval":10,"sun-idrepo-ldapv3-config-trust-all-server-certificates":false,"sun-idrepo-ldapv3-config-connection-mode":"LDAPS","openam-idrepo-ldapv3-affinity-level":"all","openam-idrepo-ldapv3-keepalive-searchfilter":"(objectclass=*)","openam-idrepo-ldapv3-behera-support-enabled":true,"sun-idrepo-ldapv3-config-ldap-server":["directory.example.com:1636"],"sun-idrepo-ldapv3-config-time-limit":10,"sun-idrepo-ldapv3-config-connection_pool_max_size":10},"userconfig":{"sun-idrepo-ldapv3-config-users-search-filter":"(objectclass=inetorgperson)","sun-idrepo-ldapv3-config-active":"Active","sun-idrepo-ldapv3-config-people-container-name":"ou","sun-idrepo-ldapv3-config-user-objectclass":["iplanet-am-managed-person","inetuser","sunFMSAML2NameIdentifier","inetorgperson","devicePrintProfilesContainer","boundDevicesContainer","iplanet-am-user-service","iPlanetPreferences","pushDeviceProfilesContainer","forgerock-am-dashboard-service","organizationalperson","top","kbaInfoContainer","person","sunAMAuthAccountLockout","oathDeviceProfilesContainer","webauthnDeviceProfilesContainer","iplanet-am-auth-configuration-service","deviceProfilesContainer"],"sun-idrepo-ldapv3-config-users-search-attribute":"fr-idm-uuid","sun-idrepo-ldapv3-config-people-container-value":"people","sun-idrepo-ldapv3-config-auth-kba-attempts-attr":["kbaInfoAttempts"],"sun-idrepo-ldapv3-config-auth-kba-index-attr":"kbaActiveIndex","sun-idrepo-ldapv3-config-user-attributes":["iplanet-am-auth-configuration","iplanet-am-user-alias-list","iplanet-am-user-password-reset-question-answer","mail","assignedDashboard","authorityRevocationList","dn","iplanet-am-user-password-reset-options","employeeNumber","createTimestamp","kbaActiveIndex","caCertificate","iplanet-am-session-quota-limit","iplanet-am-user-auth-config","sun-fm-saml2-nameid-infokey","sunIdentityMSISDNNumber","iplanet-am-user-password-reset-force-reset","sunAMAuthInvalidAttemptsData","devicePrintProfiles","givenName","iplanet-am-session-get-valid-sessions","objectClass","adminRole","inetUserHttpURL","lastEmailSent","iplanet-am-user-account-life","postalAddress","userCertificate","preferredtimezone","iplanet-am-user-admin-start-dn","boundDevices","oath2faEnabled","preferredlanguage","sun-fm-saml2-nameid-info","userPassword","iplanet-am-session-service-status","telephoneNumber","iplanet-am-session-max-idle-time","distinguishedName","iplanet-am-session-destroy-sessions","kbaInfoAttempts","modifyTimestamp","uid","iplanet-am-user-success-url","iplanet-am-user-auth-modules","kbaInfo","memberOf","sn","preferredLocale","manager","iplanet-am-session-max-session-time","deviceProfiles","cn","oathDeviceProfiles","webauthnDeviceProfiles","iplanet-am-user-login-status","pushDeviceProfiles","push2faEnabled","inetUserStatus","retryLimitNodeCount","iplanet-am-user-failure-url","iplanet-am-session-max-caching-time"],"sun-idrepo-ldapv3-config-createuser-attr-mapping":["cn","sn"],"sun-idrepo-ldapv3-config-inactive":"Inactive","sun-idrepo-ldapv3-config-auth-kba-attr":["kbaInfo"],"sun-idrepo-ldapv3-config-isactive":"inetuserstatus"},"groupconfig":{"sun-idrepo-ldapv3-config-group-attributes":["dn","cn","uniqueMember","objectclass"],"sun-idrepo-ldapv3-config-groups-search-attribute":"cn","sun-idrepo-ldapv3-config-memberurl":"memberUrl","sun-idrepo-ldapv3-config-group-container-name":"ou","sun-idrepo-ldapv3-config-group-objectclass":["top","groupofuniquenames"],"sun-idrepo-ldapv3-config-uniquemember":"uniqueMember","sun-idrepo-ldapv3-config-groups-search-filter":"(objectclass=groupOfUniqueNames)","sun-idrepo-ldapv3-config-group-container-value":"groups"},"errorhandling":{"com.iplanet.am.ldap.connection.delay.between.retries":1000},"pluginconfig":{"sunIdRepoAttributeMapping":[],"sunIdRepoSupportedOperations":["realm=read,create,edit,delete,service","user=read,create,edit,delete,service","group=read,create,edit,delete"],"sunIdRepoClass":"org.forgerock.openam.idrepo.ldap.DJLDAPv3Repo"},"authentication":{"sun-idrepo-ldapv3-config-auth-naming-attr":"uid"},"persistentsearch":{"sun-idrepo-ldapv3-config-psearch-filter":"(!(objectclass=frCoreToken))","sun-idrepo-ldapv3-config-psearchbase":"ou=identities","sun-idrepo-ldapv3-config-psearch-scope":"SCOPE_SUB"},"cachecontrol":{"sun-idrepo-ldapv3-dncache-enabled":true,"sun-idrepo-ldapv3-dncache-size":1500},"_type":{"_id":"LDAPv3ForOpenDS","name":"OpenDJ","collection":true}}' \
      -o /vagrant/curl_response.json \
      -v 2>> /vagrant/curl_error.log

    # Check the curl exit status
    if [ $? -ne 0 ]; then
      echo "curl request failed. Check /vagrant/curl_error.log for details."
      exit 1
    fi

    # Log completion
    echo "Request completed at $(date)" >> /vagrant/curl_request.log
  